# SillyTavern 插件管理器 (Plugin Manager)

一个用于在 SillyTavern 界面内管理其他插件的插件。

## 功能

*   **列出已安装插件**: 显示 `plugins` 目录下的所有插件及其基本信息（名称、版本、描述）。
*   **Git 状态显示**: 对于通过 Git 安装的插件，显示：
    *   是否为 Git 仓库。
    *   远程仓库 URL。
    *   是否有本地未提交的更改。
    *   是否有可用的更新（远程分支领先于本地）。
*   **通过 Git URL 安装**: 输入插件的 Git 仓库 URL (例如 GitHub 链接)，即可克隆并安装插件。
*   **更新插件**: 对于通过 Git 安装的插件，一键执行 `git pull` 来更新到最新版本。
*   **删除插件**: 安全地删除不再需要的插件（需要二次确认）。
*   **安装依赖**: 对于包含 `package.json` 文件的插件，一键执行 `npm install` 来安装其 Node.js 依赖。
*   **查看详情**: 提供一个模态框显示插件更详细的信息，包括依赖列表。
*   **搜索过滤**: 实时过滤插件列表。

## 安装

1.  将 `plugin-manager` 文件夹放置在 SillyTavern 的 `plugins` 目录下。
2.  (可选，如果需要) 确保您的系统安装了 Git，并且 `git` 命令可以在 SillyTavern 运行环境的命令行中执行。
3.  重启 SillyTavern。
4.  在 SillyTavern 的插件设置中启用 "Plugin Manager"。

## 使用

启用插件后，在 SillyTavern 的界面顶部菜单（通常在"插件"下拉菜单下）应该会出现 "Plugin Manager" 的入口。点击即可进入管理界面。

*   **安装**: 在顶部的输入框中粘贴插件的 Git URL，然后点击"安装插件"。
*   **更新/删除/安装依赖**: 在插件列表中找到对应的插件卡片，点击相应的按钮执行操作。删除操作会有二次确认提示。
*   **查看详情**: 点击插件卡片右上角的 <i class="bi bi-info-circle"></i> 图标。

## 注意事项

*   **Git 依赖**: 安装、更新功能依赖于系统正确安装并配置了 Git。如果 Git 不可用，插件仍可列出和删除插件，但 Git 相关功能将受限。
*   **删除风险**: 删除插件是不可逆的操作，请谨慎使用。
*   **依赖安装**: "安装依赖" 功能会执行 `npm install`。请确保您的 Node.js 和 npm 环境配置正确。
*   **手动安装的插件**: 对于非 Git 方式安装的插件，更新功能将不可用。
*   **冲突处理**: 如果 `git pull` 更新时遇到合并冲突或本地更改阻止更新，插件会提示失败，需要您手动在命令行中进入插件目录解决冲突或处理更改。
*   **权限**: SillyTavern 运行的用户需要对 `plugins` 目录及其子目录拥有读写权限。

## 依赖

*   **后端**: Express (通常 SillyTavern 已包含)
*   **前端**: Bootstrap 5 (通过 CDN 加载)

## 许可证

MIT
